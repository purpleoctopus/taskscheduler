"use strict";(self.webpackChunkdevlight_university=self.webpackChunkdevlight_university||[]).push([[204],{4204:(A,j,c)=>{c.r(j),c.d(j,{ProjectsComponent:()=>_});var u=c(467),f=c(8834),s=function(r){return r[r.Purple=1]="Purple",r[r.Cyan=2]="Cyan",r[r.Orange=3]="Orange",r}(s||{}),t=c(4438);const C=["card"];let v=(()=>{class r{project;parent;ngAfterViewInit(){let e;switch(this.project.colortheme){case s.Purple:e="purple";break;case s.Orange:e="orange";break;case s.Cyan:e="cyan";break;default:e="purple"}this.parent.nativeElement.style.background=`var(--${e}-card)`}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=t.VBU({type:r,selectors:[["app-project-card"]],viewQuery:function(o,n){if(1&o&&t.GBs(C,5),2&o){let a;t.mGM(a=t.lsd())&&(n.parent=a.first)}},inputs:{project:"project"},decls:6,vars:3,consts:[["card",""],[1,"card"],[1,"text-sm"]],template:function(o,n){1&o&&(t.j41(0,"div",1,0)(2,"h2"),t.EFF(3),t.k0s(),t.j41(4,"div",2),t.EFF(5),t.k0s()()),2&o&&(t.R7$(3),t.JRh(n.project.name),t.R7$(2),t.Lme("",n.project.owner.name,", ",n.project.owner.position,""))},styles:[".card[_ngcontent-%COMP%]{background:var(--purple-card);height:15rem;width:100%;border-radius:.75rem;padding:1.25rem;box-sizing:border-box;color:#000;margin-bottom:1.25rem}"]})}return r})();var l=c(4341),i=c(9489),g=c(2277),b=c(6722),d=c(5766);let h=(()=>{class r{http;auth;constructor(e,o){this.http=e,this.auth=o}getAll(){var e=this;return(0,u.A)(function*(){try{return(yield e.http.get("/projects").showLoading()).data}catch{return void i.y.show({text:"\u0423\u043f\u0441! \u0417\u0434\u0430\u0454\u0442\u044c\u0441\u044f, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437\u0456 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f\u043c",duration:"long"})}})()}add(e){var o=this;return(0,u.A)(function*(){return yield o.http.post("/projects",e).showLoading()})()}static \u0275fac=function(o){return new(o||r)(t.KVO(b.k),t.KVO(d.u))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),P=(()=>{class r{global;projectService;auth;name="";color=s.Purple;ColorTheme=s;constructor(e,o,n){this.global=e,this.projectService=o,this.auth=n}createProject(){var e=this;return(0,u.A)(function*(){e.auth.token?e.name.length<2?i.y.show({text:"\u041d\u0430\u0437\u0432\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e",duration:"long"}):(yield e.projectService.add({name:e.name,colortheme:e.color}),e.global.showAddProject.set(!1),document.location.reload()):i.y.show({text:"\u041b\u0438\u0448\u0435\u043d\u044c\u043a\u043e, \u0449\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(",duration:"long"})})()}selectColor(e){this.color=e;for(let o of document.getElementsByClassName("form-color-select-btn"))o.classList.contains("purple")&&e===s.Purple||o.classList.contains("cyan")&&e===s.Cyan||o.classList.contains("orange")&&e===s.Orange?o.classList.add("selected"):o.classList.remove("selected")}static \u0275fac=function(o){return new(o||r)(t.rXU(g.d),t.rXU(h),t.rXU(d.u))};static \u0275cmp=t.VBU({type:r,selectors:[["app-add-project-form"]],decls:17,vars:1,consts:[[1,"shadow"],[1,"form-container"],[1,"close-btn",3,"click"],[1,"form"],["form","addprojectform","name","name","type","text","placeholder","\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0443",3,"ngModelChange","ngModel"],["for","colortheme"],[1,"color-select"],[1,"purple","form-color-select-btn",3,"click"],[1,"cyan","form-color-select-btn",3,"click"],[1,"orange","form-color-select-btn",3,"click"],["mat-button","",3,"click"]],template:function(o,n){1&o&&(t.nrm(0,"div",0),t.j41(1,"div",1)(2,"div",2),t.bIt("click",function(){return n.global.showAddProject.set(!1)}),t.nrm(3,"span")(4,"span"),t.k0s(),t.j41(5,"form",3)(6,"h2"),t.EFF(7,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"),t.k0s(),t.j41(8,"input",4),t.mxI("ngModelChange",function(m){return t.DH7(n.name,m)||(n.name=m),m}),t.k0s(),t.j41(9,"label",5),t.EFF(10,"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043b\u044c\u043e\u0440\u043e\u0432\u0443 \u0442\u0435\u043c\u0443: "),t.k0s(),t.j41(11,"div",6)(12,"div",7),t.bIt("click",function(){return n.selectColor(n.ColorTheme.Purple)}),t.k0s(),t.j41(13,"div",8),t.bIt("click",function(){return n.selectColor(n.ColorTheme.Cyan)}),t.k0s(),t.j41(14,"div",9),t.bIt("click",function(){return n.selectColor(n.ColorTheme.Orange)}),t.k0s()(),t.j41(15,"button",10),t.bIt("click",function(){return n.createProject()}),t.EFF(16,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),t.k0s()()()),2&o&&(t.R7$(8),t.R50("ngModel",n.name))},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,f.$z],styles:["form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:block;margin:0 auto;margin-top:3rem;background-color:purple;border-radius:.5rem}.selected[_ngcontent-%COMP%]{outline:3px solid white}.color-select[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.color-select[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:.5rem}.color-select[_ngcontent-%COMP%] > .purple[_ngcontent-%COMP%]{background:var(--purple-card)}.color-select[_ngcontent-%COMP%] > .cyan[_ngcontent-%COMP%]{background:var(--cyan-card)}.color-select[_ngcontent-%COMP%] > .orange[_ngcontent-%COMP%]{background:var(--orange-card)}"]})}return r})();function k(r,p){if(1&r){const e=t.RV6();t.j41(0,"button",3),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.global.showAddProject.set(!0))}),t.EFF(1,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),t.k0s()}}function y(r,p){1&r&&t.nrm(0,"app-add-project-form")}function F(r,p){1&r&&t.nrm(0,"app-project-card",2),2&r&&t.Y8G("project",p.$implicit)}let _=(()=>{class r{auth;projectService;global;projects;constructor(e,o,n){this.auth=e,this.projectService=o,this.global=n}ngOnInit(){this.loadProjects()}loadProjects(){var e=this;return(0,u.A)(function*(){e.projects=yield e.projectService.getAll()})()}static \u0275fac=function(o){return new(o||r)(t.rXU(d.u),t.rXU(h),t.rXU(g.d))};static \u0275cmp=t.VBU({type:r,selectors:[["app-projects"]],decls:7,vars:2,consts:[[1,"hat-container"],["mat-button",""],[3,"project"],["mat-button","",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"),t.k0s(),t.DNE(3,k,2,0,"button",1),t.k0s(),t.DNE(4,y,1,0,"app-add-project-form"),t.Z7z(5,F,1,1,"app-project-card",2,t.Vm6)),2&o&&(t.R7$(3),t.vxM(n.projects?3:-1),t.R7$(),t.vxM(n.global.showAddProject()?4:-1),t.R7$(),t.Dyx(n.projects))},dependencies:[f.$z,v,P],styles:["button[_ngcontent-%COMP%]{background-color:purple;border-radius:.5rem}"]})}return r})()}}]);
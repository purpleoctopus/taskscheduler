"use strict";(self.webpackChunkdevlight_university=self.webpackChunkdevlight_university||[]).push([[640],{8640:(O,d,c)=>{c.r(d),c.d(d,{ProjectsComponent:()=>M});var l=c(467),p=c(8834),s=function(o){return o[o.Purple=1]="Purple",o[o.Cyan=2]="Cyan",o[o.Orange=3]="Orange",o}(s||{}),m=c(3773),e=c(4438);const v=["card"];let g=(()=>{class o{project;parent;ngAfterViewInit(){let t;switch(this.project.colortheme){case s.Purple:t="purple";break;case s.Orange:t="orange";break;case s.Cyan:t="cyan";break;default:t="purple"}this.parent.nativeElement.style.background=`var(--${t}-card)`}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.VBU({type:o,selectors:[["app-project-card"]],viewQuery:function(n,r){if(1&n&&e.GBs(v,5),2&n){let a;e.mGM(a=e.lsd())&&(r.parent=a.first)}},inputs:{project:"project"},decls:6,vars:5,consts:[["card",""],[1,"card",3,"routerLink"],[1,"text-sm"]],template:function(n,r){1&n&&(e.j41(0,"div",1,0)(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"div",2),e.EFF(5),e.k0s()()),2&n&&(e.Mz_("routerLink","/project/",r.project.id,""),e.R7$(3),e.JRh(r.project.name),e.R7$(2),e.Lme("",r.project.owner.name,", ",r.project.owner.position,""))},dependencies:[m.iI,m.Wk],styles:[".card[_ngcontent-%COMP%]{background:var(--purple-card);height:15rem;width:100%;border-radius:.75rem;padding:1.25rem;box-sizing:border-box;color:#000;margin-bottom:1.25rem}"]})}return o})();var u=c(4341),C=c(9489),h=c(1413),j=c(1279);let P=(()=>{class o{projectService;result=new h.B;result$=this.result.asObservable();name="";color=s.Purple;ColorTheme=s;constructor(t){this.projectService=t}createProject(){var t=this;return(0,l.A)(function*(){t.name.length<2?C.y.show({text:"\u041d\u0430\u0437\u0432\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e",duration:"long"}):200==(yield t.projectService.add({name:t.name,colortheme:t.color})).status&&t.result.next()})()}selectColor(t){this.color=t;for(let n of document.getElementsByClassName("form-color-select-btn"))n.classList.contains("purple")&&t===s.Purple||n.classList.contains("cyan")&&t===s.Cyan||n.classList.contains("orange")&&t===s.Orange?n.classList.add("selected"):n.classList.remove("selected")}close(){this.result.next()}static \u0275fac=function(n){return new(n||o)(e.rXU(j.T))};static \u0275cmp=e.VBU({type:o,selectors:[["app-add-project-form"]],decls:17,vars:1,consts:[[1,"shadow"],[1,"form-container"],[1,"close-btn",3,"click"],[1,"form"],["form","addprojectform","name","name","type","text","placeholder","\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0443",3,"ngModelChange","ngModel"],["for","colortheme"],[1,"color-select"],[1,"purple","form-color-select-btn",3,"click"],[1,"cyan","form-color-select-btn",3,"click"],[1,"orange","form-color-select-btn",3,"click"],["mat-button","",3,"click"]],template:function(n,r){1&n&&(e.nrm(0,"div",0),e.j41(1,"div",1)(2,"div",2),e.bIt("click",function(){return r.close()}),e.nrm(3,"span")(4,"span"),e.k0s(),e.j41(5,"form",3)(6,"h2"),e.EFF(7,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"),e.k0s(),e.j41(8,"input",4),e.mxI("ngModelChange",function(i){return e.DH7(r.name,i)||(r.name=i),i}),e.k0s(),e.j41(9,"label",5),e.EFF(10,"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043b\u044c\u043e\u0440\u043e\u0432\u0443 \u0442\u0435\u043c\u0443: "),e.k0s(),e.j41(11,"div",6)(12,"div",7),e.bIt("click",function(){return r.selectColor(r.ColorTheme.Purple)}),e.k0s(),e.j41(13,"div",8),e.bIt("click",function(){return r.selectColor(r.ColorTheme.Cyan)}),e.k0s(),e.j41(14,"div",9),e.bIt("click",function(){return r.selectColor(r.ColorTheme.Orange)}),e.k0s()(),e.j41(15,"button",10),e.bIt("click",function(){return r.createProject()}),e.EFF(16,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),e.k0s()()()),2&n&&(e.R7$(8),e.R50("ngModel",r.name))},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,p.$z],styles:["form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:block;margin:0 auto;margin-top:3rem;background-color:purple;border-radius:.5rem}.selected[_ngcontent-%COMP%]{outline:3px solid white}.color-select[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.color-select[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:.5rem}.color-select[_ngcontent-%COMP%] > .purple[_ngcontent-%COMP%]{background:var(--purple-card)}.color-select[_ngcontent-%COMP%] > .cyan[_ngcontent-%COMP%]{background:var(--cyan-card)}.color-select[_ngcontent-%COMP%] > .orange[_ngcontent-%COMP%]{background:var(--orange-card)}"]})}return o})();var b=c(4843),k=c(5766);function y(o,f){if(1&o){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.addProject())}),e.EFF(1,"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),e.k0s()}}function F(o,f){1&o&&e.nrm(0,"app-project-card",2),2&o&&e.Y8G("project",f.$implicit)}let M=(()=>{class o{auth;projectService;view;projects=[];constructor(t,n,r){this.auth=t,this.projectService=n,this.view=r}ngOnInit(){this.loadProjects()}addProject(){var t=this;return(0,l.A)(function*(){const n=t.view.createComponent(P);yield(0,b._)(n.instance.result$),n.destroy(),yield t.loadProjects()})()}loadProjects(){var t=this;return(0,l.A)(function*(){t.projects=yield t.projectService.getAll().showLoading()})()}static \u0275fac=function(n){return new(n||o)(e.rXU(k.u),e.rXU(j.T),e.rXU(e.c1b))};static \u0275cmp=e.VBU({type:o,selectors:[["app-projects"]],decls:6,vars:1,consts:[[1,"hat-container"],["mat-button",""],[3,"project"],["mat-button","",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"),e.k0s(),e.DNE(3,y,2,0,"button",1),e.k0s(),e.Z7z(4,F,1,1,"app-project-card",2,e.Vm6)),2&n&&(e.R7$(3),e.vxM(r.projects?3:-1),e.R7$(),e.Dyx(r.projects))},dependencies:[p.$z,g],styles:["button[_ngcontent-%COMP%]{background-color:purple;border-radius:.5rem}"]})}return o})()}}]);
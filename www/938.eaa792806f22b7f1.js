"use strict";(self.webpackChunkdevlight_university=self.webpackChunkdevlight_university||[]).push([[938],{938:(h,s,e)=>{e.r(s),e.d(s,{NotificationComponent:()=>p});var u=e(467),_=e(8834),t=e(4438),l=e(9247),f=e(1189);function d(o,a){1&o&&(t.j41(0,"h2",1),t.EFF(1,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u0441\u043f\u043e\u0432\u0456\u0449\u0435\u043d\u044c"),t.k0s())}function v(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",2)(1,"div")(2,"h2",3),t.EFF(3,"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044f"),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s(),t.j41(6,"div"),t.EFF(7),t.k0s()(),t.j41(8,"div")(9,"button",4),t.bIt("click",function(){const c=t.eBV(i).$implicit,r=t.XpG(2);return t.Njj(r.accept(c.id))}),t.EFF(10,"\u041f\u0440\u0438\u0439\u043d\u044f\u0442\u0438"),t.k0s(),t.j41(11,"button",5),t.bIt("click",function(){const c=t.eBV(i).$implicit,r=t.XpG(2);return t.Njj(r.reject(c.id))}),t.EFF(12,"\u0412\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438"),t.k0s()()()}if(2&o){const i=a.$implicit;t.R7$(5),t.SpI("\u0412\u0456\u0434:",i.sender.username,""),t.R7$(2),t.SpI("\u041f\u0440\u043e\u0435\u043a\u0442:",i.project.name,"")}}function m(o,a){if(1&o&&t.Z7z(0,v,13,2,"div",2,t.Vm6),2&o){const i=t.XpG();t.Dyx(i.notifications)}}let p=(()=>{class o{inviteService;notificationService;notifications=[];constructor(i,n){this.inviteService=i,this.notificationService=n}ngOnInit(){this.getNotifications(),this.notificationService.hasNotification.next(!1)}getNotifications(){var i=this;return(0,u.A)(function*(){i.notifications=yield i.inviteService.getInvites().showLoading()})()}accept(i){var n=this;return(0,u.A)(function*(){yield n.inviteService.acceptInvite(i).showLoading(),yield n.getNotifications()})()}reject(i){var n=this;return(0,u.A)(function*(){yield n.inviteService.rejectInvite(i).showLoading(),yield n.getNotifications()})()}static \u0275fac=function(n){return new(n||o)(t.rXU(l.p),t.rXU(f.J))};static \u0275cmp=t.VBU({type:o,selectors:[["app-notification"]],decls:5,vars:1,consts:[[1,"hat-container"],[1,"no-notifications"],[1,"notification"],[1,"notification-title"],["mat-button","",1,"apply",3,"click"],["mat-button","",1,"reject",3,"click"]],template:function(n,c){1&n&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"\u0421\u043f\u043e\u0432\u0456\u0449\u0435\u043d\u043d\u044f"),t.k0s()(),t.DNE(3,d,2,0,"h2",1)(4,m,2,0)),2&n&&(t.R7$(3),t.vxM(0==c.notifications.length?3:4))},dependencies:[_.$z],styles:[".notification[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.notification[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.reject[_ngcontent-%COMP%]{background-color:var(--red-dark);color:var(--red-light)!important}.apply[_ngcontent-%COMP%]{background-color:var(--green-dark);color:var(--green-light)!important;margin-bottom:.5rem}button[_ngcontent-%COMP%]{display:block;border-radius:.5rem}.notification[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.no-notifications[_ngcontent-%COMP%]{position:fixed;height:100vh;width:100%;top:0;left:0;text-align:center;line-height:100vh;font-size:1rem}.notification-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem}"]})}return o})()}}]);